<!DOCTYPE html>
<html>
<head>
  <% include ../includes/header.ejs %>
</head>
<body>
  <% include ../includes/nav.ejs %>
<div class="jumbotron text-center">
  <div class="container">
    <h1><%= title %></h1>
    <p>This is the placeholder for Team Activity 03</p>
  </div>
</div>
<input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">
<div class="container">
  <% if (prods.length > 0) { %>
    <ul id="myUL">
      <% for (let product of prods) { %>
        <li>
          <a href="#">
            <article class="card product-item">
              <header class="card__header">
                <h1 class="product__title">
                  <%= product.name %>
                </h1>
              </header>
              <div class="card__image">
                <img src="<%= product.imageUrl %>" alt="<%= product.name %>">
              </div>
              <div class="card__content">
                <h2 class="product__price">$
                  <%= product.price %>
                </h2>
                <p class="product__description">
                  <%= product.description %>
                </p>
                <p>Tags: <%= product.tags %> </p>
              </div>
            </article>
          </a>
        </li>
      <% } %>
    </ul>
      <% } else { %>
        <h1>No Products Found!</h1>
      <% } %>
</div>
<script>
  function myFunction() {
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      ul = document.getElementById("myUL");
      li = ul.getElementsByTagName("li");
      for (i = 0; i < li.length; i++) {
          a = li[i].getElementsByTagName("a")[0];
          txtValue = a.textContent || a.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
              li[i].style.display = "";
          } else {
              li[i].style.display = "none";
          }
      }
  }
  </script>
</body>
</html>